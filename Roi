{
  "years": ["2025", "2026", "2027", "2028", "2029"],
  "rule_priority": ["shifted_script_rule1", "shifted_script_rule2"],
  "rules": {
    "shifted_script_rule1": {
      "group": "shifted_script",
      "applies_to_years": ["1"],
      "conditions": {
        "all": [
          { "op": "eq", "left": { "var": "$.input_Shift" }, "right": "No" }
        ]
      },
      "calculation": { "op": "var", "path": "$.ScriptsYear{year}" },
      "else": {
        "op": "mul",
        "args": [
          {
            "op": "add",
            "args": [
              {
                "op": "mul",
                "args": [
                  { "op": "var", "path": "$.ShiftScriptsNoCoTYear{year}", "default": 0 },
                  { "op": "var", "path": "$.table_wgt", "default": 0 }
                ]
              },
              {
                "op": "mul",
                "args": [
                  { "op": "var", "path": "$.ShiftScriptsCoTYear{year}", "default": 0 },
                  { "op": "var", "path": "$.table_waf", "default": 0 }
                ]
              }
            ]
          },
          {
            "op": "if",
            "cond": {
              "op": "eq",
              "left": { "op": "substr", "args": [ { "op": "var", "path": "$.Inclusion_code", "default": "" }, 0, 1 ] },
              "right": { "op": "var", "path": "$.Value_utl", "default": "" }
            },
            "then": { "op": "var", "path": "$.table_YearID{year}", "default": 1 },
            "else": 1
          },
          {
            "op": "if",
            "cond": {
              "op": "and",
              "args": [
                { "op": "eq", "left": { "op": "var", "path": "$.MSB", "default": 0 }, "right": 1 },
                { "op": "eq", "left": { "op": "var", "path": "$.Generic_Ind", "default": "" }, "right": "B" }
              ]
            },
            "then": { "op": "var", "path": "$.msb_percentage", "default": 1 },
            "else": 1
          },
          { "op": "var", "path": "$.table_Year{year}", "default": 1 }
        ]
      }
    },

    "shifted_script_rule2": {
      "group": "shifted_script",
      "applies_to_years": ["2","3","4","5"],
      "conditions": {
        "all": [
          { "op": "eq", "left": { "var": "$.input_Shift" }, "right": "No" }
        ]
      },
      "calculation": { "op": "var", "path": "$.ScriptsYear{year}" },
      "else": {
        "op": "mul",
        "args": [
          { "op": "var", "path": "$.ShiftScriptsNoCoTYear{year}", "default": 0 },
          {
            "op": "if",
            "cond": {
              "op": "eq",
              "left": { "op": "substr", "args": [ { "op": "var", "path": "$.Inclusion_code", "default": "" }, 0, 1 ] },
              "right": { "op": "var", "path": "$.Value_utl", "default": "" }
            },
            "then": { "op": "var", "path": "$.table_YearID{year}", "default": 1 },
            "else": 1
          },
          {
            "op": "if",
            "cond": {
              "op": "and",
              "args": [
                { "op": "eq", "left": { "op": "var", "path": "$.MSB", "default": 0 }, "right": 1 },
                { "op": "eq", "left": { "op": "var", "path": "$.Generic_Ind", "default": "" }, "right": "B" }
              ]
            },
            "then": { "op": "var", "path": "$.msb_percentage", "default": 1 },
            "else": 1
          },
          { "op": "var", "path": "$.table_Year{year}", "default": 1 }
        ]
      }
    }
  }
}
